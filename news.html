<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>News | Matthieu Gallou-Guyot</title>
  <link rel="icon" type="image/x-icon" href="img/favicon.ico" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="content">
                <h4>
                /////////////////////////////////<br>
                NEWS<br>
                //////////////////////////////<br>
            </h4>
    <div id="news-container"></div>
    <div class="pagination" id="pagination"></div>
  </div>

  <script src="news_data.js"></script>
  <script>
    const postsPerPage = 10;
    let currentPage = 1;

    function displayNews(page) {
      const container = document.getElementById("news-container");
      container.innerHTML = "";

      const start = (page - 1) * postsPerPage;
      const end = start + postsPerPage;
      const entries = newsEntries.slice(start, end);

      entries.forEach((entry) => {
        const div = document.createElement("div");
        div.className = "news-entry";
        div.innerHTML = `
          <h3>${entry.title}</h3>
          <div class="date">${entry.date}</div>
          <p>${entry.content}</p>
        `;
        container.appendChild(div);
      });
    }

    function setupPagination() {
      const pagination = document.getElementById("pagination");
      pagination.innerHTML = "";

      const totalPages = Math.ceil(newsEntries.length / postsPerPage);
      for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement("button");
        btn.textContent = i;
        if (i === currentPage) btn.disabled = true;

        btn.addEventListener("click", () => {
          currentPage = i;
          displayNews(currentPage);
          setupPagination();
        });

        pagination.appendChild(btn);
      }
    }

    document.addEventListener("DOMContentLoaded", function () {
      displayNews(currentPage);
      setupPagination();
    });
  </script>

  <script src="main.js"></script>
</body>
</html>
